FUNCTION_BLOCK FB_BunkerSensors
VAR_INPUT
	Bunker : REFERENCE TO ST_Bunker;
	xReset : BOOL;
END_VAR
VAR_OUTPUT
	xErrorHatch : BOOL;     // Ошибка положения люка
END_VAR

// ========================================
// FB_BunkerSensors - Обработка датчиков безопасности бункера
// ========================================
//
// НАЗНАЧЕНИЕ:
// - Обработка датчиков безопасности (люк)
// - Аналог FB_DumperSensors / FB_ConveyorSensors
// - Предоставляет единую точку для проверки датчиков
//
// ВХОДЫ:
// - Bunker: ссылка на структуру бункера
// - xReset: команда сброса ошибок
//
// ВЫХОДЫ:
// - xErrorHatch: ошибка положения люка
//
// ========================================

// ========================================
// ПРОВЕРКА ПОЛОЖЕНИЯ ЛЮКА
// ========================================

// Проверка положения люка (1 = закрыт, 0 = открыт)
// Если люк открыт - ошибка
xErrorHatch := NOT Bunker.fbStateHatch.qxSignal;

// ПРИМЕЧАНИЕ: В будущем здесь могут быть добавлены другие датчики безопасности

END_FUNCTION_BLOCK
